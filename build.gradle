/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn more about Gradle by exploring our samples at https://docs.gradle.org/7.4.1/samples
 */
 plugins {
    //inlude the nodeJS plugin to execute nodejs and npm tasks
    id "com.github.node-gradle.node" version "3.1.1"
 }

 node {
    version = "14.17.6"
    download = true
 }

 task react_build

 task zip(type: Zip) {
     from ('.') {
		include "build/**"
     }
     destinationDir(file("dist"))
     baseName "reactJest"
 }

 task bundle(type: NpmTask, dependsOn: npmInstall) {
    args = ['run', 'build']
 }

react_build.dependsOn(zip)
zip.dependsOn(bundle)
